{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { visit } from \"graphql\";\nexport function filterOperationVariables(variables, query) {\n  var result = __assign({}, variables);\n\n  var unusedNames = new Set(Object.keys(variables));\n  visit(query, {\n    Variable: function (node, _key, parent) {\n      // A variable type definition at the top level of a query is not\n      // enough to silence server-side errors about the variable being\n      // unused, so variable definitions do not count as usage.\n      // https://spec.graphql.org/draft/#sec-All-Variables-Used\n      if (parent && parent.kind !== \"VariableDefinition\") {\n        unusedNames.delete(node.name.value);\n      }\n    }\n  });\n  unusedNames.forEach(function (name) {\n    delete result[name];\n  });\n  return result;\n}","map":{"version":3,"mappings":";AACA,SAASA,KAAT,QAAsB,SAAtB;AAEA,OAAM,SAAUC,wBAAV,CACJC,SADI,EAEJC,KAFI,EAEe;AAEnB,MAAMC,MAAM,gBAAQF,SAAR,CAAZ;;AACA,MAAMG,WAAW,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,IAAP,CAAYN,SAAZ,CAAR,CAApB;AACAF,OAAK,CAACG,KAAD,EAAQ;AACXM,YAAQ,YAACC,IAAD,EAAOC,IAAP,EAAaC,MAAb,EAAmB;AACzB;AACA;AACA;AACA;AACA,UACEA,MAAM,IACLA,MAAiC,CAACC,IAAlC,KAA2C,oBAF9C,EAGE;AACAR,mBAAW,CAACS,MAAZ,CAAmBJ,IAAI,CAACK,IAAL,CAAUC,KAA7B;AACD;AACF;AAZU,GAAR,CAAL;AAcAX,aAAW,CAACY,OAAZ,CAAoB,UAACF,IAAD,EAAK;AACvB,WAAOX,MAAO,CAACW,IAAD,CAAd;AACD,GAFD;AAGA,SAAOX,MAAP;AACD","names":["visit","filterOperationVariables","variables","query","result","unusedNames","Set","Object","keys","Variable","node","_key","parent","kind","delete","name","value","forEach"],"sources":["/media/rk/disk2/React/crwn-clothing-graphql/node_modules/@apollo/src/link/utils/filterOperationVariables.ts"],"sourcesContent":["import type { VariableDefinitionNode, DocumentNode } from \"graphql\";\nimport { visit } from \"graphql\";\n\nexport function filterOperationVariables(\n  variables: Record<string, any>,\n  query: DocumentNode\n) {\n  const result = { ...variables };\n  const unusedNames = new Set(Object.keys(variables));\n  visit(query, {\n    Variable(node, _key, parent) {\n      // A variable type definition at the top level of a query is not\n      // enough to silence server-side errors about the variable being\n      // unused, so variable definitions do not count as usage.\n      // https://spec.graphql.org/draft/#sec-All-Variables-Used\n      if (\n        parent &&\n        (parent as VariableDefinitionNode).kind !== \"VariableDefinition\"\n      ) {\n        unusedNames.delete(node.name.value);\n      }\n    },\n  });\n  unusedNames.forEach((name) => {\n    delete result![name];\n  });\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}